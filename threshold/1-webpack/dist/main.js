(()=>{const e=document.getElementById("app"),t=document.getElementById("stories"),s=(document.getElementById("behind"),document.getElementById("forward"),(e=15e4)=>Math.floor(Math.random()*e)),n=()=>{fetch("https://picsum.photos/v2/list?page=2&limit=15").then((e=>e.json())).then((t=>{const n=document.createDocumentFragment();t.forEach((e=>{const t=document.createElement("div");t.classList.add("post");const a=document.createElement("section");a.classList.add("post-top"),t.appendChild(a);const d=document.createElement("div");d.classList.add("post-top--info"),a.appendChild(d);const c=document.createElement("img");c.classList.add("post-top--icon"),c.src="/1-webpack/src/assets/icon.jpg",d.appendChild(c);const o=document.createElement("div");d.appendChild(o);const i=document.createElement("p");i.textContent=e.author,i.classList.add("user-name"),o.appendChild(i);const l=document.createElement("p");l.textContent="Akatsuki's Cave",l.classList.add("user-ubication"),o.appendChild(l);const r=document.createElement("img");r.classList.add("flex-left"),r.src="/1-webpack/src/assets/bx-dots-horizontal-rounded.svg",d.appendChild(r);const p=document.createElement("section");p.classList.add("post-photo"),t.appendChild(p);const m=document.createElement("div");m.classList.add("spinner"),m.classList.add("spinner--animation"),p.appendChild(m);const h=document.createElement("img");h.src=e.download_url,h.classList.add("post-photo--item"),h.classList.add("blur--animation"),p.appendChild(h),h.addEventListener("load",(e=>{h.classList.contains("blur--animation")&&(h.classList.remove("blur--animation"),m.classList.remove("spinner--animation"),m.classList.add("disappear"))}));const u=document.createElement("section");u.classList.add("post__like-zone"),t.appendChild(u);const E=document.createElement("img");E.src="/1-webpack/src/assets/bx-heart.svg",u.appendChild(E),E.dataset.like="not-liked",E.addEventListener("click",(()=>{"not-liked"==E.dataset.like?(E.src="/1-webpack/src/assets/bxs-heart-filled.svg",E.dataset.like="liked"):(E.src="/1-webpack/src/assets/bx-heart.svg",E.dataset.like="not-liked")}));const C=document.createElement("img");C.src="/1-webpack/src/assets/bx-comment.svg",C.classList.add("flex-comment"),u.appendChild(C);const g=document.createElement("img");g.src="/1-webpack/src/assets/bx-paper-plane.svg",u.appendChild(g);const L=document.createElement("img");L.src="/1-webpack/src/assets/bx-bookmark.svg",L.classList.add("flex-left"),u.appendChild(L);const b=document.createElement("p");b.textContent=`Liked by ${s()} people`,t.appendChild(b);const k=document.createElement("p");k.textContent=`View All ${s(1500)} comments`,k.classList.add("grey-text"),t.appendChild(k),n.appendChild(t)})),e.appendChild(n),d()}))},a=e=>{e.forEach((e=>{e.isIntersecting&&n()}))},d=()=>{new IntersectionObserver(a,{threshold:.25}).observe(e.lastElementChild)};fetch("https://picsum.photos/v2/list?page=5&limit=10").then((e=>e.json())).then((e=>{const s=document.createDocumentFragment();e.forEach((e=>{const n=document.createElement("div");n.classList.add("story--item"),n.classList.add("translate-story"),n.draggable=!0,t.appendChild(n);const a=document.createElement("img");a.src=e.download_url,a.classList.add("story-img"),n.appendChild(a);const d=document.createElement("p");d.textContent=e.author,d.classList.add("story-text"),n.appendChild(d),s.appendChild(n)})),t.appendChild(s);(e=>{t.addEventListener("dragend",(t=>{e.forEach((e=>{e.style.transform=`translateX(${t.offsetX}%)`}))}))})(document.querySelectorAll(".story--item"))})),n()})();